/*
 * Day 3
 * Map trajectory/intersection reading
 */

#include <stdio.h>
#include <stdlib.h>
#include <string.h>

char map[323][31] = 
{
".........#..##.##..............",
"#...#.#..#.....................",
".#...#..#...................#..",
"........##..#...#..............",
".#.#.....#..#..##......#.......",
"....#..#...#..##........#..##..",
"...#....##........#.......#.#..",
"....#................#...###..#",
"...#...#.#..#....#.......####.#",
".....#...#..........#...#..#.#.",
"....#..#............#.#.#.#..#.",
"..#....#.###..#............#...",
".....#.............#.#.........",
".#.##............##.........#..",
"...##...#..#....#.##..#.....#..",
"..............#.#.........#.##.",
"...........#.....##....##......",
".......#............#...#......",
"............#.#....#....#..#..#",
"....#................####......",
"...#.........................##",
"..........#........#.#.........",
"....#.#....#...........#......#",
"..#.#..##......##..##..#..#.#..",
"...#.....##......#.#.#.........",
".........#.#....#...#.#.#......",
".......#.......###.#.......#...",
"..#............##..#.......#...",
"...#....#......#...#...#...#...",
"......#..#.#.....##......#.....",
"...........##...##...#....#.##.",
"#.##..#.....##..#.#............",
".#.#.....##......#.##........#.",
"..#...#...#...#..........#...##",
"...##.........................#",
".....#......#.....##....#.....#",
"..#........#...................",
"#......#..#.#..#..#.#..#...#...",
"...............#..........#....",
".....#...........#......#....#.",
"........#..#...............#...",
".........#...#.......#.#..#...#",
"..#..#......#.##..........#....",
".#...#....#.....#.............#",
".##.....#.........#......#..#..",
"........#..##.......#......#...",
".......#.....###......#..#.....",
".......#.#.......#.............",
"...#................##.#.......",
"..##..#...#.#...#.#..#.#.#.##..",
".......#.#............#...#....",
"#...#.....#......#..........##.",
".#.......#......#.......#.#.#..",
".#.##.#.#...........#..........",
".......#.....#....#.#.##......#",
".###..#...#.............##.....",
"......#......#.................",
"##...#.#...##...#.#.....#....#.",
"#.............#....##...#....#.",
"#.#...#....#........#.###..##..",
"......#.........#......#.#.#.#.",
"..#.#.#.....#........#..#...#..",
"#.##....#.#......#...........#.",
".#.#.####.........#..#.##....##",
"......##...............#......#",
".......#.........#........#.#..",
"....#....#..#.##.........#..#..",
".#..........#.##....#.#..#.....",
"#..#.#............#..#....#.#.#",
"..................#..#.........",
"##..##.#....#.................#",
"..................#........#..#",
".....#.........#.......##......",
".....................#.#..#...#",
".....#.........#..........#.#..",
"...#.#..#..#.#.#.......#.......",
".....#.....#.#.........#.....##",
".............##....#....##.#...",
".#......#........##..#...###...",
"........#.......##.##.#......#.",
"..#....................#.##..#.",
"......#.......#..#....##.#.....",
"...#....#.......##...#.......#.",
".#.#..#.#..........##..........",
"....#.......##...........#.....",
"###....#.......#..#...#.....##.",
"...#......#.........#..#.#..#.#",
"#.........#..##.#..............",
".#.....#..##.#..#..###.....##.#",
"..........#..#....##.......#...",
".#..#.#...#...##.#..#.##.#.....",
"#....#...#........#......##....",
"..#.####....#.#........#....#..",
"#......#............#.#........",
"...#..#.......##...........#...",
".........#..#.#..#.###.#...#..#",
"..#....##.......#.............#",
"............#..#......#........",
"........#......#..............#",
"..#.#.#...........#............",
"...........#......##.#.#.......",
".#..........#...........#..#...",
".....#...#..#.........##...#...",
".......#....##....#.#.........#",
"..#.#......#.......#...##.#....",
".....#..........#........#.....",
"#.......#.......#............#.",
"..##.#.....#.##.#.#.#..#.......",
"..#...#.......#.###............",
".#...#..#....#...#...#..#....##",
".....#.....#...................",
".......................#......#",
"......#...##.........#...#..#..",
".....#..#.....#..............#.",
".#.##..#..#....................",
"....#..#...#....#.............#",
"..###..#...#......#.....#......",
"..#......###....#.....#.....###",
"...#.##..#...#.....#........#..",
".#.#...........##....#...#.##..",
".......#...##......#..#..#.....",
"#.............#..#...##.#..#..#",
"..........#......#.......#.....",
"...............#.#.#....#...#..",
"#.......#.#..#.....#........#..",
".#.#.#.......#..#.........##...",
"......#.....#.#....#...........",
"..#.....##.#........##.#......#",
"...###...#..#.........#........",
"....#...................#..#...",
".##........#...................",
"....#..#...........#.#.........",
".....#.......#...#....#.#......",
".........#...#.......#.#...#...",
".......#.#..#....#....#.......#",
"..#.............#..............",
".#...#..#.#.#..#............#..",
"...#.##.##..#..#...........##..",
"...........#...#..#.#........#.",
"....#...#.....#...#.#....#...#.",
".......#.#...##..#.............",
".......................#....#..",
"..#..#.....#...........#....#..",
".#..#...#.##........##....#....",
"#.....##.#.#.......#.....#...#.",
".#....#.......................#",
"#..##..###...#.........#.......",
"..##...#...#..........#....#...",
"......#..##......##.#.........#",
"................#........#..#..",
".....#.#..#.....#.......#..#...",
"..#..#.....#.......#..#..#...#.",
".#....#...#...#......##.....#..",
"....#........#...#......##....#",
"..#..........##......#......#..",
"#.#.....#.....#.......#........",
"...#...#......#....##.#..#...##",
"...#....#...#.#...........##...",
"#....##...#...#....#...........",
"...#.#..#...#..............##..",
"#..#..........##.#.#.....#.....",
"..#...#.........#.#..........#.",
"....#.....#..........#.........",
"........................#......",
".#.....#.#...###...#....#......",
"....##....#....#..#.##........#",
"..#........#.........#.......#.",
".....#.#......#...#...#........",
"........#..#.....#....###....#.",
"...........#..#.#....#.#....##.",
".......#.....##.#............#.",
"...............#........##.##..",
".............#...##......#...#.",
"#...##.#.......#......###.....#",
"..........#...#........#..#....",
"....#....................#...#.",
".#......#...#.......#....#.#...",
"....#.......................#..",
"#...#...#...#.##....##.........",
"..........#.#...##.#...#.......",
"..#...............#....#..#...#",
"#..#..#...#..#.........#...#...",
".....#..#..........#.##.#..##..",
"........#......##.....#........",
".#....#.#.........#...#..#.#...",
"....#..............##..........",
"#...............#..............",
"..###.........#....##.........#",
".........#.#....##........#...#",
"....#.#..#......#...#..........",
"...#.#.....#....#..#....#.#..#.",
"............#..#.....#...##....",
"...........#....#.#.#...#......",
"#...............#....###.......",
".........#.....##.#..#..#......",
"...#...##...###...............#",
".#......#.#.#.................#",
".........##..#............#....",
"..#..#.....#.....#.#...........",
".#......##............#.#....#.",
".#.##..##.##..#.........#.....#",
"...##.##......##.##......#.....",
"##.....#.#...#...#...#..#......",
"....................#......#...",
".....#.................#...###.",
"...........#..#.........#.#....",
"...#........#..#........#....#.",
"#................#......###...#",
".............##.#.....#.#......",
"...#...#.##..#........##.......",
"#..#.##...#....#.#.............",
".#.........#.#..#...........#..",
"....#...#.....#.#..........#...",
".#.#....###.......##.....#.##..",
".##....##......#......#.#....#.",
"..#...#.#........#...#..##.....",
"..............###..........##..",
"#....#..##.....#.....#.....#...",
"...#...#....................#..",
".#....#.#.....#.#..#..##.......",
"#...##..###......#.............",
"..........#.#....##.#........##",
"..#..#.....#...#....#.#.#......",
"#.....#........#..##.#.........",
"....#.....#..........##......#.",
"......#..#.....#........#.....#",
".....#..#....#...........#.##..",
".#....................#....#..#",
"........#..#...........#.......",
"#....#.#.......#........#.#..#.",
"........#.....#...#............",
"..#........#........#....#...#.",
".....##.......#..#..........#..",
"......#.#......###...#....##..#",
".#..#.............#.#..........",
"#.....##.#.#.#.#.#.....#.....#.",
".#..#.....#.......#.#.....#....",
"###....##...#.#...#..#......###",
".#................#.....#.##...",
"....##....#.#........###.#.#...",
"#.#....#........#.....#.......#",
"..........#..........#.##...#..",
"....#....#..##......#..#.......",
".....#..........#.##...........",
"##......#.#......#.##..........",
"##..........##.......##........",
"..#.....#....#.##..#..#..#.....",
"......###...#...........#...###",
"#..#.............##............",
"...#.###.....#..#.........#.#..",
"......#...............#...#.#..",
".....#...##.#...#.....#.#..#...",
"..#..#.#....#.#................",
"...............##.....#........",
"......#.#.....#...#.........#..",
"........#..#...#.#...#......#..",
"#...........#.......#...##...#.",
"........#.#...#..##..#.#...#...",
"..#....#...#......#..........##",
"..#..............##...##.#.....",
"...#....#..#....##.........#.#.",
".#.#....#..........#.......#...",
"...##....#.#....#....#.#...#...",
"..............#..##........#..#",
"..........#.#...##......#..#.#.",
"#...##..#......................",
".......#........##.#.#.#.......",
".........##..#.#.......####....",
"..#.............#..#........##.",
"##..#..#...#....#.....#...#..#.",
"..#.#...#.#.....#..............",
"..#....#....#..##...#.#........",
"##.....#..#...#................",
"#....#.....................#...",
"..............###.....#.#.#....",
"..#......##.#....#.#...##......",
"#...#.#......#...#.#......#....",
"....#...................##.#...",
".........##......#.....#.####..",
"##..#........#.....#......##..#",
"...#..#...#...#.............#..",
"#..#..#.#......###...#.........",
".......#.#..#........#....##..#",
"............#..##.....#.#.#....",
"#..#.....#.....#....##........#",
"......#..........##............",
".....#...#...........#.........",
"...........#....#...#....#.#...",
"....#.........##.##.......#....",
"......#....#...........#.##...#",
".##.#.#..##...#.....##.#...#...",
".......#.#....#...#...#....#...",
".#...##.#.#.....#..#....#......",
".#....###..#.......#......#...#",
"..#.#.........#.........#.....#",
".......#.#.##..#.#.......##..#.",
".##............#.........#....#",
".#...##.###..#........##.#..#..",
"..#........#.#.....##..##.#....",
"...........#...........#.....#.",
".#...######..##...#.....#......",
".#.##.#.......#......#......#..",
".#.....#.....#........#........",
"...#..#...#.##...#...........#.",
".......#.....#.......#.........",
"............#...###...........#",
"...#.......#.......##....#..#..",
"##.......#....#....####........",
".......#.#......#..........#..#",
"#.....##..#..#.....#....#...#..",
"#............#........##.......",
".#.#...#.............#..##.....",
".#....#..#.#......#.##.......##",
"...................##...##..###",
"..#.....#...#................#.",
"..#...#....#...#.#.#...#.....#.",
".....#............#....#...#..#",
".#.....#....#..#......#.#.....#",
"............#.#.....####.##....",
"....#......###....#...#....#...",
"#.....#..#.....#..#...#.......#",
"..#.#...#....#....##..#...##...",
".##..#..#..##....##...#........"
};

int main(void)
{
    int row = 0;
    int col = 0;
    int rowInc = 1;
    int colInc = 3;
    size_t numIntersect = 0;
    for (row = 0; row < 323 ; row += rowInc)
    {
        if (map[row][col] == '#')
        {
            numIntersect++;
        }
        col = (col + colInc) % 31;
    }
    printf("Num intersect: %d\n", numIntersect);
    return 0;
}

